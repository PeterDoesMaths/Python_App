<!DOCTYPE html>
<html>
<head>
    <title>Upload Result</title>
</head>
<body>
    <h1>Upload Result</h1>
    <p><strong>Prompt:</strong> {{ userMessage }}</p>
    <p><strong>Data Head:</strong></p>
    <table>
        {% for col in data.columns %}
        <th>{{ col }}</th>
        {% endfor %}
        {% for row in data.values %}
        <tr>
            {% for val in row %}
            <td>{{ val }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
    <p><strong>Response:</strong></p>
    <pre>{{ fullResponse }}</pre>
    <p><strong>Python Output:</strong></p>
    <pre>{{ output }}</pre>

    {% if num_plots > 0 %}
    <p><strong>Plots:</strong></p>
    {% for i in range(num_plots) %}
    <img src="{{ url_for('static', filename='plot_'+(i+1)|string+'.png') }}" alt="Plot {{i+1}}">
    {% endfor %}
    {% endif %}

    <p><strong>Interpretation:</strong></p>
    <pre>{{ interpretation }}</pre>
</body>
</html>